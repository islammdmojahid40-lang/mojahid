
<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Hub - ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶π‡¶æ‡¶¨</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --emerald-900: #064e3b;
            --emerald-800: #065f46;
            --amber-500: #f59e0b;
        }
        body {
            font-family: 'Hind Siliguri', sans-serif;
            background-color: #f8fafc;
            user-select: none;
        }
        .font-arabic {
            font-family: 'Amiri', serif;
        }
        .islamic-gradient {
            background: linear-gradient(135deg, #064e3b 0%, #065f46 50%, #047857 100%);
        }
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        ::-webkit-scrollbar { display: none; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .prayer-card.completed {
            background-color: #fbbf24 !important;
            color: #064e3b !important;
            border-color: #fbbf24 !important;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "@heroicons/react/": "https://esm.sh/@heroicons/react@^2.2.0/"
  }
}
</script>
</head>
<body class="max-w-md mx-auto bg-slate-50 min-h-screen shadow-2xl relative">

    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center">
        <div class="w-16 h-16 border-4 border-emerald-100 border-t-emerald-700 rounded-full animate-spin"></div>
        <p class="mt-4 font-bold text-emerald-900"> ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
    </div>

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md px-6 py-4 flex justify-between items-center border-b border-slate-100">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-emerald-800 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg shadow-emerald-900/20">M</div>
            <div>
                <h1 class="font-black text-emerald-950 leading-none">Ramadan Hub</h1>
                <span class="text-[9px] font-bold text-amber-600 tracking-widest uppercase">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶π‡¶æ‡¶¨</span>
            </div>
        </div>
        <div id="current-location" class="text-[10px] bg-slate-100 px-3 py-1 rounded-full text-slate-500 font-bold">‡¶¢‡¶æ‡¶ï‡¶æ, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</div>
    </header>

    <!-- Global Quran Player Widget -->
    <div id="quran-player-bar" class="fixed bottom-24 left-4 right-4 bg-emerald-900 text-white p-3 rounded-2xl shadow-2xl z-40 hidden animate-in slide-in-from-bottom duration-300">
        <div class="flex items-center gap-3">
            <div id="player-disk" class="w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center animate-spin-slow">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg>
            </div>
            <div class="flex-1 overflow-hidden">
                <p id="playing-surah-name" class="font-bold text-xs truncate">‡¶∏‡ßÇ‡¶∞‡¶æ ‡¶™‡ßç‡¶≤‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá</p>
                <div class="h-1 bg-white/20 rounded-full mt-1 w-full overflow-hidden">
                    <div id="player-progress" class="h-full bg-amber-400 w-0"></div>
                </div>
            </div>
            <button onclick="toggleAudio()" class="w-8 h-8 flex items-center justify-center bg-white/10 rounded-full">
                <span id="play-pause-icon">‚è∏</span>
            </button>
            <button onclick="closeAudio()" class="text-white/40">‚úï</button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="p-5 pb-32">
        
        <!-- Tab: Home -->
        <section id="home" class="tab-content active space-y-6">
            <!-- Hero Hijri Card -->
            <div class="islamic-gradient rounded-[2.5rem] p-6 text-white shadow-xl relative overflow-hidden">
                <div class="relative z-10">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-amber-300 font-bold text-sm">‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ</p>
                            <h2 class="text-2xl font-black mt-1">‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶∏‡¶æ‡¶≤‡¶æ‡¶§</h2>
                            <p id="next-prayer-info" class="text-amber-200 font-black text-lg mt-1 tracking-tight">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
                        </div>
                        <div class="glass p-2 rounded-2xl text-center min-w-[80px]">
                            <span id="hijri-month" class="text-[10px] font-black block uppercase tracking-tighter">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
                            <span id="hijri-day" class="text-lg font-black leading-none">--</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mt-8">
                        <div class="glass rounded-3xl p-4">
                            <p class="text-[10px] text-emerald-100 font-bold uppercase mb-1">‡¶∏‡ßá‡¶π‡¶∞‡¶ø ‡¶∂‡ßá‡¶∑</p>
                            <p id="time-imsak" class="text-xl font-black text-amber-300">--:-- --</p>
                        </div>
                        <div class="glass rounded-3xl p-4">
                            <p class="text-[10px] text-emerald-100 font-bold uppercase mb-1">‡¶á‡¶´‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü</p>
                            <p id="time-maghrib" class="text-xl font-black text-amber-300">--:-- --</p>
                        </div>
                    </div>
                </div>
                <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-white/5 rounded-full blur-3xl"></div>
            </div>

            <!-- Prayer Grid -->
            <div>
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-black text-emerald-900 text-lg">‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü‡¶∏‡ßÇ‡¶ö‡ßÄ</h3>
                    <span id="hijri-year-bn" class="text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full uppercase">---</span>
                </div>
                <div class="grid grid-cols-3 gap-3" id="prayer-times-grid"></div>
            </div>

            <!-- Premium Tracker -->
            <div class="bg-emerald-950 rounded-[2.5rem] p-6 text-white shadow-2xl relative overflow-hidden border border-emerald-800">
                <div class="flex justify-between items-end mb-4">
                    <div>
                        <h4 class="font-black text-amber-400">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶∏‡¶æ‡¶≤‡¶æ‡¶§ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞</h4>
                        <p class="text-[10px] text-emerald-200 uppercase font-bold tracking-widest">‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶á‡¶¨‡¶æ‡¶¶‡¶§ ‡¶°‡¶æ‡¶Ø‡¶º‡ßá‡¶∞‡¶ø</p>
                    </div>
                    <span id="tracker-percent" class="text-3xl font-black text-white">0%</span>
                </div>
                <div class="h-3 bg-emerald-900 rounded-full overflow-hidden mb-6">
                    <div id="tracker-progress-bar" class="h-full bg-gradient-to-r from-amber-600 to-amber-300 transition-all duration-700 w-0"></div>
                </div>
                <div class="grid grid-cols-5 gap-2" id="tracker-buttons"></div>
            </div>
        </section>

        <!-- Tab: Quran -->
        <section id="quran" class="tab-content space-y-6">
            <div class="mb-4">
                <h2 class="text-2xl font-black text-emerald-950 leading-tight">‡¶Ü‡¶≤-‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®</h2>
                <p class="text-xs text-slate-400 font-bold uppercase tracking-wider">‡¶§‡ßá‡¶≤‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§ ‡¶ì ‡¶¨‡¶ô‡ßç‡¶ó‡¶æ‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶</p>
            </div>
            <div id="surah-list" class="space-y-3"></div>
        </section>

        <!-- Tab: Dua -->
        <section id="dua" class="tab-content space-y-6">
            <div class="mb-4">
                <h2 class="text-2xl font-black text-emerald-950 leading-tight">‡¶¶‡ßã‡ßü‡¶æ ‡¶ì ‡¶ú‡¶ø‡¶ï‡¶ø‡¶∞</h2>
                <p class="text-xs text-slate-400 font-bold uppercase tracking-wider">‡¶Æ‡¶æ‡¶∏‡¶®‡ßÅ‡¶® ‡¶¶‡ßã‡ßü‡¶æ ‡¶∏‡¶Æ‡ßÇ‡¶π</p>
            </div>
            <div id="dua-list" class="space-y-6"></div>
        </section>

        <!-- Tab: Names -->
        <section id="names" class="tab-content space-y-6">
            <div class="mb-4">
                <h2 class="text-2xl font-black text-emerald-950 leading-tight">‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡¶∞ ‡ßØ‡ßØ ‡¶®‡¶æ‡¶Æ</h2>
                <p class="text-xs text-slate-400 font-bold uppercase tracking-wider">‡¶Ö‡¶∞‡ßç‡¶• ‡¶ì ‡¶´‡¶ú‡¶ø‡¶≤‡¶§</p>
            </div>
            <div id="names-grid" class="grid grid-cols-2 gap-4"></div>
        </section>

    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white/95 backdrop-blur-xl border-t border-slate-100 px-6 py-4 flex justify-between items-center z-50 rounded-t-[2.5rem] shadow-[0_-10px_40px_rgba(0,0,0,0.05)]">
        <button onclick="switchTab('home')" class="nav-btn active text-emerald-700 flex flex-col items-center gap-1" data-tab="home">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
            <span class="text-[9px] font-black uppercase">‡¶π‡ßã‡¶Æ</span>
        </button>
        <button onclick="switchTab('quran')" class="nav-btn text-slate-400 flex flex-col items-center gap-1" data-tab="quran">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
            <span class="text-[9px] font-black uppercase">‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶®</span>
        </button>
        <button onclick="switchTab('dua')" class="nav-btn text-slate-400 flex flex-col items-center gap-1" data-tab="dua">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <span class="text-[9px] font-black uppercase">‡¶¶‡ßã‡ßü‡¶æ</span>
        </button>
        <button onclick="switchTab('names')" class="nav-btn text-slate-400 flex flex-col items-center gap-1" data-tab="names">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <span class="text-[9px] font-black uppercase">‡¶®‡¶æ‡¶Æ‡¶∏‡¶Æ‡ßÇ‡¶π</span>
        </button>
    </nav>

    <audio id="global-audio"></audio>

    <script>
        // --- DATA ---
        const HIJRI_MONTHS_BN = {
            "Muharram": "‡¶Æ‡ßÅ‡¶π‡¶æ‡¶∞‡¶∞‡¶Æ", "Safar": "‡¶∏‡¶´‡¶∞", "Rabi' al-awwal": "‡¶∞‡¶¨‡¶ø‡¶â‡¶≤ ‡¶Ü‡¶â‡¶Ø‡¶º‡¶æ‡¶≤",
            "Rabi' al-thani": "‡¶∞‡¶¨‡¶ø‡¶â‡¶∏ ‡¶∏‡¶æ‡¶®‡¶ø", "Jumada al-ula": "‡¶ú‡¶Æ‡¶æ‡¶¶‡¶ø‡¶â‡¶≤ ‡¶Ü‡¶â‡¶Ø‡¶º‡¶æ‡¶≤",
            "Jumada al-akhira": "‡¶ú‡¶Æ‡¶æ‡¶¶‡¶ø‡¶â‡¶∏ ‡¶∏‡¶æ‡¶®‡¶ø", "Rajab": "‡¶∞‡¶ú‡¶¨", "Sha'ban": "‡¶∂‡¶æ‡¶¨‡¶æ‡¶®",
            "Ramadan": "‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®", "Shawwal": "‡¶∂‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤", "Dhu al-Qi'dah": "‡¶ú‡¶ø‡¶≤‡¶ï‡¶¶",
            "Dhu al-Hijjah": "‡¶ú‡¶ø‡¶≤‡¶π‡¶ú‡ßç‡¶ú"
        };

        const DUAS = [
            {
                title: "‡¶Ü‡¶Ø‡¶º‡¶æ‡¶§‡ßÅ‡¶≤ ‡¶ï‡ßÅ‡¶∞‡¶∏‡¶ø",
                arabic: "ÿßŸÑŸÑŸéŸëŸáŸè ŸÑŸéÿß ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑŸéŸëÿß ŸáŸèŸàŸé ÿßŸÑŸíÿ≠ŸéŸäŸèŸë ÿßŸÑŸíŸÇŸéŸäŸèŸëŸàŸÖŸè €ö ŸÑŸéÿß ÿ™Ÿéÿ£ŸíÿÆŸèÿ∞ŸèŸáŸè ÿ≥ŸêŸÜŸéÿ©Ÿå ŸàŸéŸÑŸéÿß ŸÜŸéŸàŸíŸÖŸå €ö ŸÑŸéŸáŸè ŸÖŸéÿß ŸÅŸêŸä ÿßŸÑÿ≥ŸéŸëŸÖŸéÿßŸàŸéÿßÿ™Ÿê ŸàŸéŸÖŸéÿß ŸÅŸêŸä ÿßŸÑŸíÿ£Ÿéÿ±Ÿíÿ∂Ÿê €ó ŸÖŸéŸÜŸí ÿ∞Ÿéÿß ÿßŸÑŸéŸëÿ∞ŸêŸä ŸäŸéÿ¥ŸíŸÅŸéÿπŸè ÿπŸêŸÜŸíÿØŸéŸáŸè ÿ•ŸêŸÑŸéŸëÿß ÿ®Ÿêÿ•Ÿêÿ∞ŸíŸÜŸêŸáŸê €ö ŸäŸéÿπŸíŸÑŸéŸÖŸè ŸÖŸéÿß ÿ®ŸéŸäŸíŸÜŸé ÿ£ŸéŸäŸíÿØŸêŸäŸáŸêŸÖŸí ŸàŸéŸÖŸéÿß ÿÆŸéŸÑŸíŸÅŸéŸáŸèŸÖŸí €ñ ŸàŸéŸÑŸéÿß ŸäŸèÿ≠ŸêŸäÿ∑ŸèŸàŸÜŸé ÿ®Ÿêÿ¥ŸéŸäŸíÿ°Ÿç ŸÖŸêŸÜŸí ÿπŸêŸÑŸíŸÖŸêŸáŸê ÿ•ŸêŸÑŸéŸëÿß ÿ®ŸêŸÖŸéÿß ÿ¥Ÿéÿßÿ°Ÿé €ö ŸàŸéÿ≥ŸêÿπŸé ŸÉŸèÿ±Ÿíÿ≥ŸêŸäŸèŸëŸáŸè ÿßŸÑÿ≥ŸéŸëŸÖŸéÿßŸàŸéÿßÿ™Ÿê ŸàŸéÿßŸÑŸíÿ£Ÿéÿ±Ÿíÿ∂Ÿé €ñ ŸàŸéŸÑŸéÿß ŸäŸéÿ¶ŸèŸàÿØŸèŸáŸè ÿ≠ŸêŸÅŸíÿ∏ŸèŸáŸèŸÖŸéÿß €ö ŸàŸéŸáŸèŸàŸé ÿßŸÑŸíÿπŸéŸÑŸêŸäŸèŸë ÿßŸÑŸíÿπŸéÿ∏ŸêŸäŸÖŸè",
                pronunciation: "‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßÅ ‡¶≤‡¶æ ‡¶á‡¶≤‡¶æ‡¶π‡¶æ ‡¶á‡¶≤‡ßç‡¶≤‡¶æ ‡¶π‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶π‡¶æ‡¶á‡¶Ø‡¶º‡ßÅ‡¶≤ ‡¶ï‡¶æ‡¶á‡¶Ø‡¶º‡ßÅ‡¶Æ‡•§ ‡¶≤‡¶æ ‡¶§‡¶æ‚Äô‡¶ñ‡ßÅ‡¶Ø‡ßÅ‡¶π‡ßÅ ‡¶∏‡¶ø‡¶®‡¶æ‡¶§‡ßÅ‡¶Å ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ ‡¶®‡¶æ‡¶â‡¶Æ‡•§ ‡¶≤‡¶æ‡¶π‡ßÅ ‡¶Æ‡¶æ ‡¶´‡¶ø‡¶∏ ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§‡¶ø ‡¶ì‡¶Ø‡¶º‡¶æ‡¶Æ‡¶æ ‡¶´‡¶ø‡¶≤ ‡¶Ü‡¶∞‡¶¶‡•§ ‡¶Æ‡¶æ‡¶® ‡¶Ø‡¶æ‡¶≤‡ßç‡¶≤‡¶æ‡¶Ø‡¶ø ‡¶á‡¶Ø‡¶º‡¶æ‡¶∂‡¶´‡¶æ‡¶â ‡¶á‡¶®‡¶¶‡¶æ‡¶π‡ßÅ ‡¶á‡¶≤‡ßç‡¶≤‡¶æ ‡¶¨‡¶ø‡¶á‡¶Ø‡¶®‡¶ø‡¶π‡¶ø‡•§ ‡¶á‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Æ‡¶æ ‡¶¨‡¶æ‡¶á‡¶®‡¶æ ‡¶Ü‡¶á‡¶¶‡¶ø‡¶π‡¶ø‡¶Æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶Æ‡¶æ ‡¶ñ‡¶æ‡¶≤‡¶´‡¶æ‡¶π‡ßÅ‡¶Æ, ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ ‡¶á‡¶â‡¶π‡¶ø‡¶§‡ßÅ‡¶®‡¶æ ‡¶¨‡¶ø‡¶∂‡¶æ‡¶á‡¶Ø‡¶º‡¶ø‡¶Æ ‡¶Æ‡¶ø‡¶® ‡¶á‡¶≤‡¶Æ‡¶ø‡¶π‡¶ø ‡¶á‡¶≤‡ßç‡¶≤‡¶æ ‡¶¨‡¶ø‡¶Æ‡¶æ ‡¶∂‡¶æ-‡¶Ü‡•§ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ ‡¶ï‡ßÅ‡¶∞‡¶∏‡¶ø‡¶á‡¶â‡¶π‡ßÅ‡¶∏ ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶§‡¶ø ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶Ü‡¶∞‡¶¶, ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ ‡¶á‡¶Ø‡¶º‡¶æ‡¶â‡¶¶‡ßÅ‡¶π‡ßÅ ‡¶π‡¶ø‡¶´‡¶Ø‡ßÅ‡¶π‡ßÅ‡¶Æ‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶Ü‡¶≤‡¶ø‡¶á‡¶â‡¶∞ ‡¶Ü‡¶ú‡¶ø‡¶Æ‡•§",
                meaning: "‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π, ‡¶§‡¶ø‡¶®‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶â‡¶™‡¶æ‡¶∏‡ßç‡¶Ø ‡¶®‡ßá‡¶á, ‡¶§‡¶ø‡¶®‡¶ø ‡¶ö‡¶ø‡¶∞‡¶û‡ßç‡¶ú‡ßÄ‡¶¨, ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞ ‡¶ß‡¶æ‡¶∞‡¶ï‡•§ ‡¶§‡¶æ‡¶Å‡¶ï‡ßá ‡¶§‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶æ‡¶ì ‡¶∏‡ßç‡¶™‡¶∞‡ßç‡¶∂ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶¶‡ßç‡¶∞‡¶æ‡¶ì ‡¶®‡ßü‡•§ ‡¶Ü‡¶∏‡¶Æ‡¶æ‡¶® ‡¶ì ‡¶Ø‡¶Æ‡ßÄ‡¶®‡ßá ‡¶Ø‡¶æ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∞‡ßü‡ßá‡¶õ‡ßá, ‡¶∏‡¶¨‡¶á ‡¶§‡¶æ‡¶Å‡¶∞‡•§"
            },
            {
                title: "‡¶∏‡¶æ‡¶á‡¶Ø‡¶º‡ßç‡¶Ø‡¶ø‡¶¶‡ßÅ‡¶≤ ‡¶á‡¶∏‡ßç‡¶§‡¶ø‡¶ó‡¶´‡¶æ‡¶∞",
                arabic: "ÿßŸÑŸÑŸéŸëŸáŸèŸÖŸéŸë ÿ£ŸéŸÜŸíÿ™Ÿé ÿ±Ÿéÿ®ŸêŸëŸä ŸÑŸéÿß ÿ•ŸêŸÑŸéŸáŸé ÿ•ŸêŸÑŸéŸëÿß ÿ£ŸéŸÜŸíÿ™Ÿéÿå ÿÆŸéŸÑŸéŸÇŸíÿ™ŸéŸÜŸêŸä ŸàŸéÿ£ŸéŸÜŸéÿß ÿπŸéÿ®ŸíÿØŸèŸÉŸéÿå ŸàŸéÿ£ŸéŸÜŸéÿß ÿπŸéŸÑŸéŸâ ÿπŸéŸáŸíÿØŸêŸÉŸé ŸàŸéŸàŸéÿπŸíÿØŸêŸÉŸé ŸÖŸéÿß ÿßÿ≥Ÿíÿ™Ÿéÿ∑ŸéÿπŸíÿ™Ÿèÿå ÿ£ŸéÿπŸèŸàÿ∞Ÿè ÿ®ŸêŸÉŸé ŸÖŸêŸÜŸí ÿ¥Ÿéÿ±ŸêŸë ŸÖŸéÿß ÿµŸéŸÜŸéÿπŸíÿ™Ÿèÿå ÿ£Ÿéÿ®ŸèŸàÿ°Ÿè ŸÑŸéŸÉŸé ÿ®ŸêŸÜŸêÿπŸíŸÖŸéÿ™ŸêŸÉŸé ÿπŸéŸÑŸéŸäŸéŸëÿå ŸàŸéÿ£Ÿéÿ®ŸèŸàÿ°Ÿè ŸÑŸéŸÉŸé ÿ®Ÿêÿ∞ŸéŸÜŸíÿ®ŸêŸä ŸÅŸéÿßÿ∫ŸíŸÅŸêÿ±Ÿí ŸÑŸêŸäÿå ŸÅŸéÿ•ŸêŸÜŸéŸëŸáŸè ŸÑŸéÿß ŸäŸéÿ∫ŸíŸÅŸêÿ±Ÿè ÿßŸÑÿ∞ŸèŸëŸÜŸèŸàÿ®Ÿé ÿ•ŸêŸÑŸéŸëÿß ÿ£ŸéŸÜŸíÿ™Ÿé",
                pronunciation: "‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡ßÅ‡¶Æ‡ßç‡¶Æ‡¶æ ‡¶Ü‡¶®‡ßç‡¶§‡¶æ ‡¶∞‡¶æ‡¶¨‡ßç‡¶¨‡¶ø ‡¶≤‡¶æ ‡¶á‡¶≤‡¶æ‡¶π‡¶æ ‡¶á‡¶≤‡ßç‡¶≤‡¶æ ‡¶Ü‡¶®‡ßç‡¶§‡¶æ‡•§ ‡¶ñ‡¶æ‡¶≤‡¶æ‡¶ï‡¶§‡¶æ‡¶®‡¶ø ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ü‡¶®‡¶æ ‡¶Ü‡¶¨‡¶¶‡ßÅ‡¶ï‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ü‡¶®‡¶æ ‡¶Ü‡¶≤‡¶æ ‡¶Ü‡¶π‡¶¶‡¶ø‡¶ï‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶¶‡¶ø‡¶ï‡¶æ ‡¶Æ‡¶æ‡¶∏‡¶§‡¶æ‡¶§‡¶æ‡¶§‡ßÅ‡•§ ‡¶Ü‡¶â‡¶Ø‡ßÅ‡¶¨‡¶ø‡¶ï‡¶æ ‡¶Æ‡¶ø‡¶® ‡¶∂‡¶æ‡¶∞‡¶∞‡¶ø ‡¶Æ‡¶æ ‡¶∏‡¶æ‡¶®‡¶æ‡¶§‡ßÅ‡•§ ‡¶Ü‡¶¨‡ßÅ‡¶â ‡¶≤‡¶æ‡¶ï‡¶æ ‡¶¨‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶§‡¶ø‡¶ï‡¶æ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶Ø‡¶º‡ßç‡¶Ø‡¶æ ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ü‡¶¨‡ßÅ‡¶â ‡¶≤‡¶æ‡¶ï‡¶æ ‡¶¨‡¶ø‡¶Ø‡¶æ‡¶Æ‡ßç‡¶¨‡¶ø ‡¶´‡¶æ‡¶ó‡¶´‡¶ø‡¶∞‡¶≤‡¶ø‡•§ ‡¶´‡¶æ‡¶Ø‡¶º‡¶ø‡¶®‡¶®‡¶æ‡¶π‡ßÅ ‡¶≤‡¶æ ‡¶á‡¶Ø‡¶º‡¶æ‡¶ó‡¶´‡¶ø‡¶∞‡ßÅ‡¶Ø ‡¶Ø‡ßÅ‡¶®‡ßÅ‡¶¨‡¶æ ‡¶á‡¶≤‡ßç‡¶≤‡¶æ ‡¶Ü‡¶®‡ßç‡¶§‡¶æ‡•§",
                meaning: "‡¶π‡ßá ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π! ‡¶Ü‡¶™‡¶®‡¶ø‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶™‡¶æ‡¶≤‡¶ï‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ ‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶≤‡¶æ‡¶π ‡¶®‡ßá‡¶á‡•§ ‡¶Ü‡¶™‡¶®‡¶ø‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßã‡¶≤‡¶æ‡¶Æ‡•§"
            }
        ];

        const ALLAH_NAMES = [
            { ar: "ÿßŸÑŸÑŸá", bn: "‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π", meaning: "‡¶è‡¶ï‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶â‡¶™‡¶æ‡¶∏‡ßç‡¶Ø" },
            { ar: "ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸè", bn: "‡¶Ü‡¶∞-‡¶∞‡¶π‡¶Æ‡¶æ‡¶®", meaning: "‡¶™‡¶∞‡¶Æ ‡¶¶‡¶Ø‡¶º‡¶æ‡¶≤‡ßÅ" },
            { ar: "ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸè", bn: "‡¶Ü‡¶∞-‡¶∞‡¶π‡¶ø‡¶Æ", meaning: "‡¶Ö‡¶§‡¶ø ‡¶¶‡¶Ø‡¶º‡¶æ‡¶≤‡ßÅ" },
            { ar: "ÿßŸÑŸíŸÖŸéŸÑŸêŸÉŸè", bn: "‡¶Ü‡¶≤-‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï", meaning: "‡¶∏‡¶∞‡ßç‡¶¨‡¶æ‡¶ß‡¶ø‡¶™‡¶§‡¶ø" },
            { ar: "ÿßŸÑŸíŸÇŸèÿØŸèŸëŸàÿ≥Ÿè", bn: "‡¶Ü‡¶≤-‡¶ï‡ßÅ‡¶¶‡ßÅ‡¶∏", meaning: "‡¶Ö‡¶§‡¶ø ‡¶™‡¶¨‡¶ø‡¶§‡ßç‡¶∞" },
            { ar: "ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè", bn: "‡¶Ü‡¶∏-‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ", meaning: "‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø‡¶¶‡¶æ‡¶§‡¶æ" },
            { ar: "ÿßŸÑŸíŸÖŸèÿ§ŸíŸÖŸêŸÜŸè", bn: "‡¶Ü‡¶≤-‡¶Æ‡ßÅ'‡¶Æ‡¶ø‡¶®", meaning: "‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ‡¶¶‡¶æ‡¶§‡¶æ" },
            { ar: "ÿßŸÑŸíŸÖŸèŸáŸéŸäŸíŸÖŸêŸÜŸè", bn: "‡¶Ü‡¶≤-Muhaymin", meaning: "‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡¶æ‡¶¨‡ßá‡¶ï‡ßç‡¶∑‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ" },
            { ar: "ÿßŸÑŸíÿπŸéÿ≤ŸêŸäÿ≤Ÿè", bn: "‡¶Ü‡¶≤-Aziz", meaning: "‡¶Æ‡¶π‡¶æ ‡¶™‡¶∞‡¶æ‡¶ï‡ßç‡¶∞‡¶Æ‡¶∂‡¶æ‡¶≤‡ßÄ" },
            { ar: "ÿßŸÑŸíÿ¨Ÿéÿ®ŸéŸëÿßÿ±Ÿè", bn: "‡¶Ü‡¶≤-Jabbar", meaning: "‡¶¶‡ßÅ‡¶∞‡ßç‡¶®‡¶ø‡¶¨‡¶æ‡¶∞" }
        ];

        let prayerProgress = JSON.parse(localStorage.getItem('al_mubin_progress')) || {
            fajr: false, dhuhr: false, asr: false, maghrib: false, isha: false
        };

        let cachedTimings = null;

        // --- INIT ---
        function init() {
            getLocation();
            renderDuas();
            renderNames();
            fetchQuran();
            updateTracker();
            setupAudioPlayer();
            setTimeout(() => document.getElementById('loading-screen').classList.add('hidden'), 800);
        }

        // --- LOCATION & PRAYER ---
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    pos => fetchPrayerTimes(pos.coords.latitude, pos.coords.longitude),
                    err => fetchPrayerTimes(23.8103, 90.4125)
                );
            } else fetchPrayerTimes(23.8103, 90.4125);
        }

        async function fetchPrayerTimes(lat, lng) {
            try {
                const date = new Date().toLocaleDateString('en-GB').split('/').reverse().join('-');
                const res = await fetch(`https://api.aladhan.com/v1/timings/${date}?latitude=${lat}&longitude=${lng}&method=2`);
                const data = await res.json();
                cachedTimings = data.data.timings;
                renderPrayerTimes(cachedTimings);
                renderHijri(data.data.date.hijri);
                startNextPrayerCountdown();
            } catch (e) { console.error("API Error", e); }
        }

        function convertTo12H(time) {
            if(!time) return "--:--";
            let [h, m] = time.split(':');
            let ampm = h >= 12 ? 'PM' : 'AM';
            h = h % 12 || 12;
            return `${h}:${m} ${ampm}`;
        }

        function renderPrayerTimes(times) {
            document.getElementById('time-imsak').innerText = convertTo12H(times.Imsak);
            document.getElementById('time-maghrib').innerText = convertTo12H(times.Maghrib);
            const grid = [
                {n: '‡¶´‡¶ú‡¶∞', t: times.Fajr, i: 'üåÖ'}, {n: '‡¶Ø‡ßã‡¶π‡¶∞', t: times.Dhuhr, i: '‚òÄÔ∏è'}, {n: '‡¶Ü‡¶∏‡¶∞', t: times.Asr, i: 'üå§Ô∏è'},
                {n: '‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨', t: times.Maghrib, i: 'üåá'}, {n: '‡¶è‡¶∂‡¶æ', t: times.Isha, i: 'üåô'}, {n: '‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø‡ßã‡¶¶‡ßü', t: times.Sunrise, i: 'üîÜ'}
            ];
            document.getElementById('prayer-times-grid').innerHTML = grid.map(p => `
                <div class="bg-white p-4 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center">
                    <span class="text-xl mb-1">${p.i}</span>
                    <span class="text-[10px] font-bold text-slate-400 uppercase">${p.n}</span>
                    <span class="text-[13px] font-black text-emerald-900">${convertTo12H(p.t)}</span>
                </div>
            `).join('');
        }

        function renderHijri(hijri) {
            document.getElementById('hijri-month').innerText = HIJRI_MONTHS_BN[hijri.month.en] || hijri.month.en;
            document.getElementById('hijri-day').innerText = hijri.day;
            document.getElementById('hijri-year-bn').innerText = `${hijri.year} ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø`;
        }

        function startNextPrayerCountdown() {
            if (!cachedTimings) return;
            const updateNext = () => {
                const now = new Date();
                const prayers = [
                    {n: '‡¶´‡¶ú‡¶∞', t: cachedTimings.Fajr}, {n: '‡¶Ø‡ßã‡¶π‡¶∞', t: cachedTimings.Dhuhr}, {n: '‡¶Ü‡¶∏‡¶∞', t: cachedTimings.Asr},
                    {n: '‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨', t: cachedTimings.Maghrib}, {n: '‡¶è‡¶∂‡¶æ', t: cachedTimings.Isha}
                ];
                let next = null;
                for (let p of prayers) {
                    const [h, m] = p.t.split(':');
                    const pDate = new Date(); pDate.setHours(h, m, 0);
                    if (pDate > now) { next = { ...p, date: pDate }; break; }
                }
                if (!next) { 
                    const [h, m] = prayers[0].t.split(':');
                    const pDate = new Date(); pDate.setDate(pDate.getDate() + 1); pDate.setHours(h, m, 0);
                    next = { ...prayers[0], date: pDate };
                }
                const diff = next.date - now;
                const hh = Math.floor(diff / 3600000);
                const mm = Math.floor((diff % 3600000) / 60000);
                document.getElementById('next-prayer-info').innerText = `${next.n}: ${hh} ‡¶ò‡¶£‡ßç‡¶ü‡¶æ ${mm} ‡¶Æ‡¶ø. ‡¶¨‡¶æ‡¶ï‡¶ø`;
            };
            updateNext(); setInterval(updateNext, 60000);
        }

        // --- TRACKER ---
        function updateTracker() {
            const keys = ['fajr', 'dhuhr', 'asr', 'maghrib', 'isha'];
            const names = {fajr:'‡¶´‡¶ú‡¶∞', dhuhr:'‡¶Ø‡ßã‡¶π‡¶∞', asr:'‡¶Ü‡¶∏‡¶∞', maghrib:'‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨', isha:'‡¶è‡¶∂‡¶æ'};
            const count = keys.filter(k => prayerProgress[k]).length;
            const pct = (count / 5) * 100;
            document.getElementById('tracker-percent').innerText = `${pct}%`;
            document.getElementById('tracker-progress-bar').style.width = `${pct}%`;
            document.getElementById('tracker-buttons').innerHTML = keys.map(k => `
                <button onclick="togglePrayer('${k}')" class="flex flex-col items-center py-2 rounded-2xl border transition-all ${prayerProgress[k] ? 'prayer-card completed scale-105' : 'bg-emerald-800/40 border-emerald-700/50 text-emerald-200'}">
                    <span class="text-[9px] font-black">${names[k]}</span>
                </button>
            `).join('');
            localStorage.setItem('al_mubin_progress', JSON.stringify(prayerProgress));
        }

        function togglePrayer(k) { prayerProgress[k] = !prayerProgress[k]; updateTracker(); }

        // --- AUDIO & QURAN ---
        const audio = document.getElementById('global-audio');
        function setupAudioPlayer() {
            audio.ontimeupdate = () => {
                const pct = (audio.currentTime / audio.duration) * 100;
                document.getElementById('player-progress').style.width = `${pct}%`;
            };
            audio.onended = () => { closeAudio(); };
        }

        async function fetchQuran() {
            try {
                const res = await fetch('https://api.alquran.cloud/v1/surah');
                const data = await res.json();
                document.getElementById('surah-list').innerHTML = data.data.slice(0, 114).map(s => `
                    <div onclick="playSurah(${s.number}, '${s.name}')" class="bg-white p-4 rounded-3xl shadow-sm border border-slate-100 flex items-center gap-4 active:scale-95 cursor-pointer">
                        <div class="w-10 h-10 bg-emerald-50 text-emerald-700 rounded-xl flex items-center justify-center font-black">${s.number}</div>
                        <div class="flex-1"><h4 class="font-bold text-slate-800">${s.name}</h4><p class="text-[10px] text-slate-400 font-bold uppercase">${s.englishName}</p></div>
                        <div class="text-emerald-600"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"></path></svg></div>
                    </div>
                `).join('');
            } catch (e) {}
        }

        function playSurah(n, name) {
            audio.src = `https://cdn.islamic.network/quran/audio-surah/128/ar.alafasy/${n}.mp3`;
            audio.play();
            document.getElementById('playing-surah-name').innerText = `‡¶™‡ßç‡¶≤‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá: ${name}`;
            document.getElementById('quran-player-bar').classList.remove('hidden');
            document.getElementById('play-pause-icon').innerText = '‚è∏';
        }

        function toggleAudio() { 
            if (audio.paused) { audio.play(); document.getElementById('play-pause-icon').innerText = '‚è∏'; }
            else { audio.pause(); document.getElementById('play-pause-icon').innerText = '‚ñ∂'; }
        }
        function closeAudio() { audio.pause(); document.getElementById('quran-player-bar').classList.add('hidden'); }

        // --- RENDERERS ---
        function renderDuas() {
            document.getElementById('dua-list').innerHTML = DUAS.map(d => `
                <div class="bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-4">
                    <h4 class="font-black text-emerald-900 text-lg flex items-center gap-2"><span class="text-amber-500">‚ú¶</span> ${d.title}</h4>
                    <p class="text-2xl text-right font-arabic text-emerald-800 leading-relaxed">${d.arabic}</p>
                    <div class="p-4 bg-emerald-50 rounded-2xl"><p class="text-[9px] font-black text-emerald-600 uppercase mb-1">‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£</p><p class="text-[13px] text-slate-700 font-medium">${d.pronunciation}</p></div>
                    <div class="p-4 bg-amber-50 rounded-2xl"><p class="text-[9px] font-black text-amber-600 uppercase mb-1">‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶</p><p class="text-[13px] text-emerald-950 font-bold">${d.meaning}</p></div>
                </div>
            `).join('');
        }

        function renderNames() {
            document.getElementById('names-grid').innerHTML = ALLAH_NAMES.map(n => `
                <div class="bg-white p-5 rounded-[2rem] border border-slate-100 shadow-sm flex flex-col items-center text-center group">
                    <div class="w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center mb-3"><span class="text-xl font-arabic text-emerald-700">${n.ar}</span></div>
                    <h4 class="font-black text-slate-800 text-sm">${n.bn}</h4>
                    <p class="text-[9px] text-slate-400 font-bold uppercase">${n.meaning}</p>
                </div>
            `).join('');
        }

        function switchTab(t) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.replace('text-emerald-700', 'text-slate-400'));
            document.getElementById(t).classList.add('active');
            document.querySelector(`.nav-btn[data-tab="${t}"]`).classList.replace('text-slate-400', 'text-emerald-700');
        }

        init();
    </script>
</body>
</html>
